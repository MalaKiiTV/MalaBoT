From f66e06391d32eae3a00ce0e66495292354259696 Mon Sep 17 00:00:00 2001
From: MalaKiiTV <malakiitv@gmail.com>
Date: Sat, 1 Nov 2025 20:42:50 +0000
Subject: [PATCH 1/3] Fix command registration TypeError

- Remove incorrect bot.tree.add_command() calls from cog setup functions
- Discord.py automatically registers @app_commands.command decorators when cogs are loaded
- The error was caused by trying to pass entire cog instances as commands
- Fixed cogs: utility, fun, owner, setup, welcome, birthdays, xp_old

This should resolve the TypeError when loading cogs and restore all slash commands.
---
 cogs/birthdays.py | 3 +--
 cogs/fun.py       | 3 +--
 cogs/owner.py     | 3 +--
 cogs/setup.py     | 3 +--
 cogs/utility.py   | 3 +--
 cogs/welcome.py   | 3 +--
 cogs/xp_old.py    | 3 +--
 7 files changed, 7 insertions(+), 14 deletions(-)

diff --git a/cogs/birthdays.py b/cogs/birthdays.py
index dc22efe..8634b99 100644
--- a/cogs/birthdays.py
+++ b/cogs/birthdays.py
@@ -356,5 +356,4 @@ async def setup(bot: commands.Bot):
     """Setup function for the cog."""
     birthdays_cog = Birthdays(bot)
     await bot.add_cog(birthdays_cog)
-    # Register slash commands with the tree
-    bot.tree.add_command(birthdays_cog)
+    # Commands are automatically registered when cog is loaded
diff --git a/cogs/fun.py b/cogs/fun.py
index ed43d4d..7f76bcb 100644
--- a/cogs/fun.py
+++ b/cogs/fun.py
@@ -500,5 +500,4 @@ async def setup(bot: commands.Bot):
     """Setup function for the cog."""
     fun_cog = Fun(bot)
     await bot.add_cog(fun_cog)
-    # Register slash commands with the tree
-    bot.tree.add_command(fun_cog)
\ No newline at end of file
+    # Commands are automatically registered when cog is loaded
\ No newline at end of file
diff --git a/cogs/owner.py b/cogs/owner.py
index 9c8f156..ebc186d 100644
--- a/cogs/owner.py
+++ b/cogs/owner.py
@@ -454,5 +454,4 @@ async def setup(bot: commands.Bot):
     """Setup function for the cog."""
     owner_cog = Owner(bot)
     await bot.add_cog(owner_cog)
-    # Register slash commands with the tree
-    bot.tree.add_command(owner_cog)
\ No newline at end of file
+    # Commands are automatically registered when cog is loaded
\ No newline at end of file
diff --git a/cogs/setup.py b/cogs/setup.py
index 156f5eb..c82b3fe 100644
--- a/cogs/setup.py
+++ b/cogs/setup.py
@@ -2054,5 +2054,4 @@ class Setup(commands.Cog):
 async def setup(bot: commands.Bot):
     setup_cog = Setup(bot)
     await bot.add_cog(setup_cog)
-    # Register slash commands with the tree
-    bot.tree.add_command(setup_cog)
\ No newline at end of file
+    # Commands are automatically registered when cog is loaded
\ No newline at end of file
diff --git a/cogs/utility.py b/cogs/utility.py
index d82f416..d91b2a6 100644
--- a/cogs/utility.py
+++ b/cogs/utility.py
@@ -637,5 +637,4 @@ async def setup(bot: commands.Bot):
     """Setup function for the cog."""
     utility_cog = Utility(bot)
     await bot.add_cog(utility_cog)
-    # Register slash commands with the tree
-    bot.tree.add_command(utility_cog)
\ No newline at end of file
+    # Commands are automatically registered when cog is loaded
\ No newline at end of file
diff --git a/cogs/welcome.py b/cogs/welcome.py
index cac309e..c14f218 100644
--- a/cogs/welcome.py
+++ b/cogs/welcome.py
@@ -373,5 +373,4 @@ async def setup(bot: commands.Bot):
     """Setup function for the cog."""
     welcome_cog = Welcome(bot)
     await bot.add_cog(welcome_cog)
-    # Register slash commands with the tree
-    bot.tree.add_command(welcome_cog)
\ No newline at end of file
+    # Commands are automatically registered when cog is loaded
\ No newline at end of file
diff --git a/cogs/xp_old.py b/cogs/xp_old.py
index 601cf0a..a19d3c9 100644
--- a/cogs/xp_old.py
+++ b/cogs/xp_old.py
@@ -445,8 +445,7 @@ class XPGroup(app_commands.Group):
 async def setup(bot: commands.Bot):
     xp_cog = XP(bot)
     await bot.add_cog(xp_cog)
-    # Register slash commands with the tree
-    bot.tree.add_command(xp_cog)
+    # Commands are automatically registered when cog is loaded
 
 class XP(commands.Cog):
     """XP and leveling system."""
-- 
2.39.5

